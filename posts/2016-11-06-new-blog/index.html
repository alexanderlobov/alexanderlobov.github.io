<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>

        <!-- Yandex.Metrika counter -->
        <script type="text/javascript">
            (function (d, w, c) {
                (w[c] = w[c] || []).push(function() {
                    try {
                        w.yaCounter40839224 = new Ya.Metrika({
                            id:40839224,
                            clickmap:true,
                            trackLinks:true,
                            accurateTrackBounce:true
                        });
                    } catch(e) { }
                });

                var n = d.getElementsByTagName("script")[0],
                    s = d.createElement("script"),
                    f = function () { n.parentNode.insertBefore(s, n); };
                s.type = "text/javascript";
                s.async = true;
                s.src = "https://mc.yandex.ru/metrika/watch.js";

                if (w.opera == "[object Opera]") {
                    d.addEventListener("DOMContentLoaded", f, false);
                } else { f(); }
            })(document, window, "yandex_metrika_callbacks");
        </script>
        <noscript><div><img src="https://mc.yandex.ru/watch/40839224" style="position:absolute; left:-9999px;" alt /></div></noscript>
        <!-- /Yandex.Metrika counter -->

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>alexanderlobov - Creating a blog using Hakyll</title>
        <link rel="stylesheet" type="text/css" href="../../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../../css/syntax.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../../">alexanderlobov</a>
            </div>
            <div id="navigation">
                <a href="../../archive/">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Creating a blog using Hakyll</h1>

            <div class="info">
    Posted on November  6, 2016
    
</div>

<p>This is my new blog and it is created using <a href="https://jaspervdj.be/hakyll">Hakyll</a>.</p>
<p>I plan to move here my other blogs: <a href="http://tardenoisean.blogspot.com" class="uri">http://tardenoisean.blogspot.com</a> and <a href="http://tardenoisean.livejournal.com" class="uri">http://tardenoisean.livejournal.com</a>.</p>
<h2 id="steps-performed-to-create-this-site">Steps performed to create this site</h2>
<p>Created <a href="https://github.com/alexanderlobov/alexanderlobov.github.io">repository</a> to host the site using <a href="https://pages.github.com/">Github pages</a></p>
<p>Created <a href="https://github.com/alexanderlobov/homepage">repository</a> to host source code for site generation.</p>
<p>Cloned <a href="https://github.com/alexanderlobov/homepage">repository</a> with source code.</p>
<p>Initialized stack and built site.</p>
<pre><code>$ hakyll-init .
$ stack init
$ stack build
$ stack exec site build</code></pre>
<p>If you want to see the result</p>
<pre><code>$ stack exec site watch</code></pre>
<p>Cleaned up stuff that I did not need, tweaked <code>.gitignore</code>.</p>
<p>Committed</p>
<pre><code>$ stack exec site clean
$ git add --all
$ git commit -m &quot;Initial commit&quot;
$ git push origin master</code></pre>
<p>Added <a href>site repository</a> as a git submodule</p>
<pre><code>git submodule add git@github.com:alexanderlobov/alexanderlobov.github.io.git _site</code></pre>
<p>Build site and commit</p>
<pre><code>stack exec site build
cd _site
git add --all
git commit -m &quot;Update from 01f6054&quot;
git push origin master</code></pre>
<h3 id="git-submodules-to-be-or-not-to-be">Git submodules: to be or not to be</h3>
<p>Using git submodules has a disadvantage: if you run <code>clean</code> or <code>rebuild</code> command, <code>_site</code> directory is removed and you need to make extra steps to restore git repository in this directory. I did not found it convenient. So I deleted the submodule and began to use separate working copy of site repository. If you want to deploy site, you need to copy newly generated stuff to this working copy. It is possible <a href="2016-11-11-deploying-a-site-to-git.html">to configure</a> “deploy” command for <code>site</code> executable.</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://jaspervdj.be/hakyll/tutorials.html">Hakyll tutorials</a></li>
<li><a href="http://timbaumann.info/posts/2013-08-04-hakyll-github-and-travis.html">Tim Baumann’s tutorial</a></li>
</ul>

<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = 'http://alexanderlobov.ru/posts/2016-11-06-new-blog/';
        this.page.identifier = '/posts/2016-11-06-new-blog/';
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//alexanderlobov.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>
     Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
     Disqus.</a>
</noscript>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
